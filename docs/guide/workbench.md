# AI工作台

AI工作台是系统的中央控制面板，所有自动化功能都在这里启动和管理。

## 界面布局

AI工作台分为三个主要区域：

### 1. 系统控制区（左上）

**6个主要按钮**（2行3列）：

| 按钮 | 功能 | 说明 |
|------|------|------|
| 🚀 启动系统 | 启动所有自动化 | 蓝色按钮，点击后变绿 |
| 🔄 重新运行 | 重启软件 | 用于修复异常状态 |
| ⏸ 暂停播放 | 暂停/恢复音频 | 暂停时变橙色 |
| 📖 说明文档 | 打开官方文档 | 需在config.py配置URL |
| 📂 打开目录 | 打开应用文件夹 | 快速访问配置文件 |
| 🧹 清空日志 | 清除日志输出 | 保持界面整洁 |

### 2. 自动化控制区（中上）

**各项功能开关**：

| 开关 | 功能 | 默认状态 |
|------|------|--------|
| 弹幕监听 | 实时监听观众弹幕 | 关闭 |
| 关键词回复 | 触发关键词时自动回复 | 关闭 |
| 助播接话 | 主播讲完后自动接话 | 关闭 |
| 报时播放 | 每隔N分钟播放一条语音 | 关闭 |
| AI改写回复 | 用AI改写回复文案 | 关闭 |
| 公屏轮播 | 定时发送公屏文案 | 关闭 |

**报时间隔设置**：
- 点击 **⏱ N分钟** 按钮
- 在弹窗中设置间隔时间（1-60分钟）
- 确定后立即生效

### 3. 变量调节区（右上）

**关注/点赞播放**：

| 开关 | 功能 | 说明 |
|------|------|------|
| 关注语音播放 | 有人关注时播放语音 | 可设置触发间隔 |
| 点赞语音播放 | 有人点赞时播放语音 | 可设置触发间隔 |
| ⏱ N分钟 | 触发间隔 | 避免频繁播放 |

---

## 插播控制区

### 四个插播按钮

| 按钮 | 功能 | 优先级 | 说明 |
|------|------|--------|------|
| 📌 插播音频 | 选择文件插播 | 中 | 加入播放队列末尾 |
| 🚨 急插音频 | 选择文件急插 | 高 | 立即打断当前播放 |
| 🎙️ 录音急插 | 录音后立即播放 | 高 | 实时录音+播放 |
| ⏭ 下一条 | 跳过当前音频 | - | 播放队列中的下一条 |

### 使用场景

**插播音频**
- 临时想播放一条音频
- 不需要打断当前播放
- 例如：播放产品介绍视频链接

**急插音频**
- 需要立即播放
- 打断当前正在播放的内容
- 例如：突然有人问价格，需要立即播放价格语音

**录音急插**
- 实时录音后立即播放
- 适合临时讲话
- 例如：临时回答观众问题

---

## 本地弹幕测试

### 功能说明

在不连接直播平台的情况下，本地测试关键词触发效果。

### 使用步骤

1. 在输入框中输入模拟弹幕（例如：`测试`）
2. 点击 **🧪 发送测试弹幕**
3. 系统会按照关键词规则进行匹配
4. 在下方日志中查看触发结果

### 测试示例

**输入**：`这个产品多少钱？`

**预期结果**（如果配置了"价格"分类）：
```
[关键词触发] 分类: 价格
[自动回复] 这款产品现在有优惠...
[播放队列] 加入: 价格/讲解.mp3
```

---

## 日志输出区

### 日志类型

| 前缀 | 含义 | 示例 |
|------|------|------|
| `[启动]` | 系统启动事件 | 启动系统、登录成功 |
| `[弹幕]` | 弹幕监听 | 收到观众弹幕 |
| `[关键词触发]` | 关键词匹配 | 分类: 价格 |
| `[自动回复]` | 文本回复 | 发送回复文案 |
| `[播放队列]` | 音频播放 | 加入/播放/完成 |
| `[错误]` | 异常信息 | 文件不存在、网络错误 |
| `[警告]` | 警告信息 | 配置缺失、格式错误 |

### 日志查看技巧

- **实时查看**：日志会自动滚动到最新
- **清空日志**：点击 **🧹 清空日志** 按钮
- **导出日志**：日志文件保存在 `logs/` 目录
- **搜索日志**：使用浏览器的查找功能（Ctrl+F）

---

## 启动流程详解

### 第1步：点击启动系统

```
点击 🚀 启动系统
    ↓
系统初始化
    ↓
弹出登录窗口
```

### 第2步：扫码登录

**抖音登录**
- 扫描二维码
- 用手机抖音账号确认
- 等待登录成功

**视频号登录**
- 扫描二维码
- 用微信确认
- 等待登录成功

### 第3步：进入直播控制台

登录成功后，系统会自动打开直播控制台，显示：
- 实时弹幕
- 触发记录
- 播放队列
- 快速操作按钮

### 第4步：开始直播

1. 打开你的直播间
2. 开始讲解
3. 观众弹幕 → 系统自动处理
4. 你专注于讲解和促单

---

## 常见操作

### 如何暂停播放？

1. 点击 **⏸ 暂停播放** 按钮
2. 按钮变为 **▶ 播放**（橙色）
3. 再次点击恢复播放

### 如何临时插播音频？

1. 点击 **📌 插播音频**
2. 选择要播放的文件
3. 音频加入队列末尾
4. 等待当前音频播放完成后自动播放

### 如何立即播放音频？

1. 点击 **🚨 急插音频**
2. 选择要播放的文件
3. 当前播放的音频被打断
4. 立即播放选中的文件

### 如何跳过当前音频？

1. 点击 **⏭ 下一条**
2. 当前音频停止
3. 自动播放队列中的下一条

### 如何修改报时间隔？

1. 点击 **⏱ N分钟** 按钮
2. 在弹窗中输入新的间隔时间
3. 点击 **确定**
4. 立即生效

---

## 状态指示

### 按钮颜色含义

| 颜色 | 含义 | 说明 |
|------|------|------|
| 🔵 蓝色 | 启动系统（未启动） | 点击启动 |
| 🟢 绿色 | 系统已启动 | 系统运行中 |
| 🟠 橙色 | 暂停中 | 音频播放已暂停 |
| ⚪ 灰色 | 禁用 | 功能不可用 |

### 开关状态

- **打开**（蓝色）：功能已启用
- **关闭**（灰色）：功能已禁用

---

## 故障排查

### 启动后没有反应

**可能原因**：
- 网络连接失败
- 登录超时
- 系统异常

**解决方案**：
1. 检查网络连接
2. 点击 **🔄 重新运行** 重启软件
3. 查看日志中的错误信息

### 关键词没有触发

**可能原因**：
- 弹幕监听开关未打开
- 关键词配置有误
- 观众弹幕不匹配

**解决方案**：
1. 确认 **弹幕监听** 开关已打开
2. 进入 **关键词设置** 检查配置
3. 使用本地弹幕测试验证

### 音频没有声音

**可能原因**：
- 系统音量关闭
- 音频文件损坏
- 音频路径错误

**解决方案**：
1. 检查系统音量
2. 点击 **试听** 按钮测试
3. 检查音频文件是否存在

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl+S` | 保存配置 |
| `Ctrl+L` | 清空日志 |
| `Ctrl+T` | 发送测试弹幕 |

---

## 性能优化建议

1. **定期清空日志** - 避免日志文件过大
2. **关闭不需要的开关** - 减少系统负担
3. **定期重启软件** - 保持系统稳定
4. **检查磁盘空间** - 确保有足够空间存储日志

---

## 更多帮助

- 📖 [快速开始](./quick-start.md)
- 🎯 [关键词设置](./keywords.md)
- 🤖 [AI回复配置](./ai-reply.md)
- 💬 [评论管理](./comment-manager.md)
